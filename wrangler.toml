name = "keep-alive-worker"
main = "worker/keep-alive.js"
compatibility_date = "2024-01-01"

# Cron Triggers - 每9分钟执行一次
# Cloudflare Workers 的 cron 使用 UTC 时区
# 格式: 分钟 小时 日 月 星期
# */5 * * * * 表示每5分钟执行一次
# 注意：Cloudflare Dashboard 显示的时间是 UTC 时间
[triggers]
crons = ["*/5 * * * *"]

# 环境变量（需要在 Cloudflare Dashboard 中设置）
# GITHUB_REPO: 仓库名称，格式为 "owner/repo"
# GITHUB_TOKEN: GitHub Personal Access Token (需要 workflow 权限)
# WORKFLOW_FILE: workflow 文件名，例如 "keep-alive.yml"
# GITHUB_BRANCH: 分支名称，默认为 "main"（可选）

# 开发环境配置
[env.development]
name = "keep-alive-worker-dev"

# 生产环境配置
[env.production]
name = "keep-alive-worker-prod"

# Observability 配置 - 启用日志
[observability]
enabled = false
head_sampling_rate = 1

[observability.logs]
enabled = true
head_sampling_rate = 1
persist = true
invocation_logs = true

[observability.traces]
enabled = false
persist = true
head_sampling_rate = 1

